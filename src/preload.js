var RocketTux = RocketTux || {};
 
// Load the game assets
RocketTux.Preload = function(){};
 
RocketTux.Preload.prototype = {
  preload: function() {
  	// Show loading screen 
  	this.splash = this.add.sprite(this.game.world.centerX, this.game.world.centerY, 'logo');
    this.splash.anchor.setTo(0.5);
 
    this.preloadBar = this.add.sprite(this.game.world.centerX, this.game.world.centerY + 128, 'preloadbar');
    this.preloadBar.anchor.setTo(0.5);
 
    this.load.setPreloadSprite(this.preloadBar);
 
  	// Load game assets
    this.load.image('world', 'data/world.png');
    this.load.spritesheet('entities', 'data/entities.png', 64, 64);
    this.load.spritesheet('skies', 'data/skies.png', 1024, 1024);
    this.load.spritesheet('skies-special', 'data/skies-special.png', 1024, 1024);
    this.load.audio('collect', 'data/sounds/collect.ogg');
    this.load.audio('mouseover', 'data/sounds/mouseover.ogg');
    this.load.audio('warp', 'data/sounds/warp.ogg');
    this.load.audio('menu', 'data/music/menu.ogg');
    this.load.audio('song1', 'data/music/song1.ogg');
    this.load.audio('song2', 'data/music/song2.ogg');
    this.load.audio('rocketpack-start', 'data/sounds/rocketpack-start.ogg');
    this.load.audio('rocketpack-windup', 'data/sounds/rocketpack-windup.ogg');
    this.load.audio('rocketpack-boost', 'data/sounds/rocketpack-boost.ogg');
    this.load.audio('rocketpack-running', 'data/sounds/rocketpack-running.ogg');
    this.load.audio('rocketpack-boost-fail', 'data/sounds/rocketpack-boost-fail.ogg');
    
    // Initialize variables used to generate levels
    this.worldObjects(); // Tiled objects from world texture
    this.otherVariables(); // Misc objects, variables, settings
  },
  create: function() {
  	this.state.start('MainMenu');
  },
    otherVariables: function(){
    RocketTux.songs = ['song1', 'song2', 'song1', 'song2', 'song1', 'song2', 'song1']; // More songs will be added later
    RocketTux.groundSpeed = 180; // Preference up to 220
    RocketTux.airSpeed = 300; // Preference up to 340. Star +10.
    RocketTux.boostSpeed = 325; // Preference up to 340. Flame guy +20 at time of collision.
    RocketTux.bonusBoosts = 0; // Preference up to 3
    RocketTux.tuxGravity = 65; // Air Flower - 15, Earth Flower + 35 (but enemies can't hurt you)
    RocketTux.favortieTheme = 'none';
    RocketTux.favortieTime = 'none';
    
    RocketTux.unlocks = {
        themes:'snow1,snow2,forest1', // Unlocks: snow3, forest2, candyland, beach, beachfront
        timesOfDay: 'sunrise,day,sunset,night', // Unlocks: supertuxDay, supertuxNight 
    };
  },
  worldObjects: function(){
    // Each of these are 10 tile wide sections of maps. 
    // I laid them out using the Tiled editor and copied the values here, after converting them doc/tiled_value_converter.html.
    RocketTux.candyland = {
        a:[
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,3271,3271,3271,3271,3271,3271,3271,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,3271,0,3271,3271,3271,0,0,3271,3271,0,0,3271,3271,3271,3271,3271,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,3333,0,0,0,0,3271,0,3271,0,0,0,3271,0,0,3271,0,0,0,3271,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,234,0,0,0,0,3271,0,3271,0,0,0,3271,0,0,0,0,0,0,3271,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,234,0,0,0,0,3271,0,3271,3271,0,0,0,3271,3271,0,0,0,0,3271,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,234,0,0,0,0,3271,0,3271,0,0,0,0,0,0,3271,0,0,0,3271,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,234,0,0,0,0,3271,0,3271,0,0,0,3271,0,0,3271,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,234,0,0,0,0,3271,0,3271,3271,3271,0,0,3271,3271,0,0,0,0,3271,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,',
            '3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,'
        ],
        b:[
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3210,3211,3211,3211,3211,3211,3211,3212,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3274,3275,3275,3275,3275,3275,3275,3276,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3274,3275,3275,3275,3275,3275,3275,3276,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3275,3275,3275,3275,3275,3275,3275,3275,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,',
            '3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,'
        ],
        c:[
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3335,3336,3336,3336,3334,3336,3336,3336,3337,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,234,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,234,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,3271,3271,3271,3271,3271,0,0,0,0,0,0,0,0,0,234,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,3271,3271,3271,3271,3271,3271,3271,0,0,0,0,0,0,0,0,234,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,3271,3271,3271,3271,3271,3271,3271,3271,3271,0,0,0,0,0,0,0,234,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,3271,3271,3271,3271,3271,3271,3271,3271,3271,3271,3271,0,0,0,0,0,0,234,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,3271,3271,3271,3271,3271,3271,3271,3271,3271,3271,3271,3271,3271,0,0,0,0,0,234,0,0,0,0,0,0,0,0,0,0,0,',
            '3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,',
            '3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,'
        ],
        d:[
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,1268,1269,1270,1271,1272,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,1332,3341,3342,3343,1336,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '1268,1269,1270,1271,1272,0,0,0,0,0,0,0,1396,1397,1398,1399,1400,0,0,0,0,0,0,0,0,1268,1269,1270,1271,1272,0,0,0,0,0,0,0,0,0,0,',
            '1332,3341,3342,3343,1336,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1332,3341,3342,3343,1336,0,0,0,0,0,0,0,0,0,0,',
            '1396,1397,1398,1399,1400,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1396,1397,1398,1399,1400,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,3335,3336,3336,3334,3336,3336,3337,0,0,0,1268,1269,1270,1271,1272,0,0,0,0,0,0,0,0,0,0,0,1268,1269,1270,1271,1272,0,0,',
            '0,0,0,0,0,0,0,0,0,0,235,0,0,0,0,0,0,1332,3341,3342,3343,1336,0,0,0,0,0,0,0,0,0,0,0,1332,3341,3342,3343,1336,0,0,',
            '0,1268,1269,1270,1271,1272,0,0,0,0,235,0,0,0,0,0,0,1396,1397,1398,1399,1400,0,0,0,0,0,0,0,0,0,0,0,1396,1397,1398,1399,1400,0,0,',
            '0,1332,3341,3342,3343,1336,0,0,0,0,235,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,1396,1397,1398,1399,1400,0,0,0,0,235,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,235,0,0,0,0,0,0,0,0,0,0,0,3408,3409,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,235,0,0,0,0,3408,3409,0,0,0,0,3271,3472,3473,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,235,0,0,533,534,3984,3985,3601,3601,3601,3601,3601,3603,3728,3729,3730,3731,3602,0,533,534,0,0,0,3404,3405,0,0,0,0,',
            '0,0,0,0,0,0,0,0,0,0,235,0,0,597,598,4048,4049,3665,3665,3665,3665,3665,3667,3792,3793,3794,3795,3666,0,597,598,0,0,3271,3468,3469,3271,0,0,0,',
            '0,0,3404,3405,0,0,0,0,0,0,235,0,0,661,662,532,532,0,0,0,0,0,3472,3473,0,0,0,0,0,661,662,0,3271,3271,3468,3469,3271,3271,0,0,',
            '0,3271,3468,3469,3271,0,0,0,0,0,235,0,0,725,726,596,596,0,0,0,0,0,3472,3473,0,0,0,0,0,725,726,3271,3271,3271,3468,3469,3271,3271,3271,0,',
            '3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3212,3472,3473,3210,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,3211,',
            '3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3276,3472,3473,3274,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,3275,'
        ],
    }
  },
};
